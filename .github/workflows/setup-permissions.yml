name: Setup Repository Permissions

on:
  workflow_dispatch:

jobs:
  check-permissions:
    runs-on: ubuntu-latest
    steps:
      - name: 権限設定の確認
        run: |
          echo "🔍 GitHub Actions の権限設定について"
          echo ""
          echo "もし PR Command Menu が 403 エラーで失敗する場合、以下を確認してください："
          echo ""
          echo "1. リポジトリの Settings > Actions > General に移動"
          echo "2. 'Workflow permissions' セクションで以下を確認："
          echo "   - 'Read and write permissions' が選択されているか"
          echo "   - または 'Read repository contents and packages permissions' が選択されている場合は"
          echo "     'Allow GitHub Actions to create and approve pull requests' にチェックが入っているか"
          echo ""
          echo "3. フォークからのプルリクエストの場合："
          echo "   - 'Fork pull request workflows from outside collaborators' の設定も確認"
          echo ""
          echo "現在のワークフロー実行権限:"
          echo "GITHUB_TOKEN has the following permissions:"
